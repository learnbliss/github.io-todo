(this.webpackJsonptodo_list=this.webpackJsonptodo_list||[]).push([[0],{21:function(e,t,n){e.exports={root:"TodoItem_root__9JzS9",todoItem:"TodoItem_todoItem__1hpbC",rootScale:"TodoItem_rootScale__2Eo52",todoText:"TodoItem_todoText__3vmjo",edit:"TodoItem_edit__1le0P",checked:"TodoItem_checked__3oddJ"}},33:function(e,t,n){e.exports={root:"Header_root__jsaeH",header:"Header_header__1v0yI",switchWrapper:"Header_switchWrapper__G8m-v"}},34:function(e,t,n){e.exports={todoInput:"TodoInput_todoInput__1a6jQ",rootScale:"TodoInput_rootScale__1iBlP",input:"TodoInput_input__QOK2C",editMode:"TodoInput_editMode__2zKbM",edit:"TodoInput_edit__3-K0l"}},38:function(e,t,n){e.exports={lists:"Lists_lists__1iZOR",rootScale:"Lists_rootScale__3ao11",buttons:"Lists_buttons___9vdu"}},40:function(e,t,n){e.exports={revert:"PopUp_revert__RA7fV",view:"PopUp_view__NEYLG"}},45:function(e,t,n){e.exports={root:"TodoList_root__29eoQ"}},47:function(e,t,n){e.exports={head:"ListsMenu_head__3taTr"}},48:function(e,t,n){e.exports={confirmButton:"ConfirmAction_confirmButton__2pJZ2",confBack:"ConfirmAction_confBack__3UKHR"}},49:function(e,t,n){e.exports={list:"ListHead_list__280tu"}},50:function(e,t,n){e.exports={btn:"ButtonPrimary_btn__8mzAZ"}},53:function(e,t,n){e.exports={listSelect:"SelectList_listSelect__GkX-n",option:"SelectList_option__wQPIO"}},54:function(e,t,n){e.exports={empty:"LayoutList_empty__3diUI"}},58:function(e,t,n){e.exports={gap:"FieldNewTask_gap__xxF2U"}},69:function(e,t,n){e.exports=n(84)},74:function(e,t,n){},75:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),i=n(15),c=n.n(i),u=(n(74),n(43)),l=n(44),s=n(61),d=n(63),m=(n(75),n(45)),f=n.n(m),L=n(4),E=n(19),p=function(e){return e.todo.todoList},_=function(e){return e.todo.currentList},O=Object(E.a)(_,p,(function(e,t){var n;return null===(n=t[e])||void 0===n?void 0:n.length})),T=function(e){return e.todo.editMode},b=Object(E.a)(p,T,_,(function(e,t,n){var r;return null===(r=e[n])||void 0===r?void 0:r.find((function(e){return e.id===t}))})),v=function(e){return e.todo.confirmDeleteId},h=function(e){return e.todo.lastDeleted},D=function(e){return e.todo.confirmClearList},C=Object(E.a)(p,(function(e){return Object.keys(e)})),k=Object(E.a)(p,_,(function(e,t){return e[t]})),j=function(e){return e.todo.newListName},S=function(e){return e.todo.listEdit},y=function(e){return e.todo.deleteList},N=function(e){return e.todo.shouldBeOneList},g=Object(E.a)(p,(function(e,t){return t.list}),(function(e,t){return e[t].length})),I=Object(E.a)(p,(function(e,t){return t.list}),(function(e,t){return e[t].filter((function(e){return!e.checked})).length})),w=function(e){return e.theme.darkTheme},A=n(27),x=n.n(A),R=n(37),M="_CONFIRM",B="_SUCCESS",F=n(105),U=n(7),H=n(64),W=n(65),J=n(2),P=function(e,t){var n=Object(J.a)({},t);return delete n[e],n},G=function(e){return e.replace(/^([A-z\u0410-\u044f\u0451])/,(function(e){return e.toUpperCase()}))},K=function(e,t,n){var r=n[e],a=Object(H.a)(n,[e].map(W.a));return Object(J.a)(Object(U.a)({},t,r),a)},Q=function(e,t){return function(n){var r=G(e);if(t)return n({type:"EDIT_TODO",payload:{upperText:r,task:t}});n({type:"ADD_TODO",payload:{newTodo:{id:Object(F.a)(),text:r,checked:!1}}})}},z=function(e){return{type:"EDIT_MODE",payload:{id:e}}},Y=function(e){return function(){var t=Object(R.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n("confirm"!==e?{type:"CLEAR_LIST"+M}:{type:"CLEAR_LIST"+B});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},$=function(e){return{type:"ADD_NEW_LIST"+M,payload:{listName:e}}},V=function(){return function(){var e=Object(R.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n(),1===C(a).length?(t({type:"SHOULD_BE_ONE_LIST"}),r=setTimeout((function(){return t({type:"SHOULD_BE_ONE_LIST"})}),3e3)):t({type:"DELETE_CURRENT_LIST"+M});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Z=n(33),X=n.n(Z),q=n(10),ee=n(104),te=Object(q.a)({switchBase:{color:"#FEC041","&$checked":{color:"#6DDBF7"},"&$checked + $track":{backgroundColor:"#57a1b9"}},checked:{},track:{}})(ee.a),ne=Object(L.b)((function(e){return{numTodo:O(e),currentList:_(e),darkTheme:w(e)}}),{changeTheme:function(){return{type:"CHANGE_THEME"}}})((function(e){var t=e.numTodo,n=e.currentList,r=e.darkTheme,a=e.changeTheme;return o.a.createElement("div",{className:X.a.root},o.a.createElement("div",null,o.a.createElement("span",null,"You have ",o.a.createElement("b",null,t)," Todos in ",o.a.createElement("span",{className:X.a.header},'"',n,'"')," list")),o.a.createElement("div",{className:X.a.switchWrapper},o.a.createElement(te,{size:"small",checked:r,onChange:function(){return a()}})))})),re=n(47),ae=n.n(re),oe=n(48),ie=n.n(oe),ce=n(103),ue=function(e){var t=e.positiveFn,n=e.negativeFn,r=void 0===n?t:n,i=e.positive,c=void 0===i||i,u=e.negative,l=void 0!==u&&u,s=e.head,d=void 0===s?"Confirm delete?":s,m=function(e){"Escape"===e.key&&r(l)};return Object(a.useEffect)((function(){return document.addEventListener("keydown",m,!1),function(){document.removeEventListener("keydown",m,!1)}}),[]),o.a.createElement("div",{className:ie.a.confirmButton,onClick:function(){return r(l)}},o.a.createElement("span",{onKeyDown:function(e){return m(e)}},d),o.a.createElement(ce.a,{onClick:function(e){e.stopPropagation(),t(c)},variant:"contained"},"Yes"),o.a.createElement(ce.a,{onClick:function(e){e.stopPropagation(),r(l)},variant:"contained"},"No"))},le=n(49),se=n.n(le),de=n(50),me=n.n(de),fe=function(e){var t=e.buttonClick,n=e.name,r=e.style,a=e.disable,i=void 0!==a&&a;return o.a.createElement("button",{onClick:function(){return t()},className:me.a.btn,style:r,disabled:i},n)},Le=Object(L.b)((function(e){return{listEdit:S(e),shouldBeOneList:N(e)}}),{addNewListConfirm:$,deleteCurrentListConfirm:V})((function(e){var t=e.listEdit,n=e.shouldBeOneList,r=e.addNewListConfirm,a=e.deleteCurrentListConfirm;return o.a.createElement("div",{className:se.a.list},o.a.createElement(fe,{buttonClick:r,name:"Add new list",disable:t}),o.a.createElement(fe,{buttonClick:a,name:"Delete list",disable:n}))})),Ee=n(62),pe=n(34),_e=n.n(pe),Oe=n(52),Te=n.n(Oe),be=n(51),ve=n.n(be),he=n(17),De=n.n(he),Ce=function(e){var t=e.fnApply,n=e.initialData,r=e.fnQuery,i=e.placeholder,c=e.maxLength,u=void 0===c?150:c,l=e.onBlur,s=void 0!==l&&l,d=e.editMode,m=void 0!==d&&d,f=Object(a.useState)(""),L=Object(Ee.a)(f,2),E=L[0],p=L[1];Object(a.useEffect)((function(){(null===n||void 0===n?void 0:n.text)?p(n.text):"string"===typeof n&&p(n)}),[]);var _=function(){0!==E.length&&(t(E,n),p(""))};return o.a.createElement("div",{className:_e.a.todoInput},o.a.createElement("input",{placeholder:i,autoFocus:!0,value:E,onChange:function(e){return p(e.target.value)},onKeyDown:function(e){return function(e){"Enter"===e.key?_():"Escape"===e.key&&r(null)}(e)},className:De()(_e.a.input,Object(U.a)({},_e.a.editMode,m)),maxLength:u,onBlur:function(){return s&&function(){if(n)return _();r(null)}()}}),o.a.createElement("span",{onMouseDown:function(){return _()}},n?o.a.createElement(ve.a,null):o.a.createElement(Te.a,null)))},ke=n(38),je=n.n(ke),Se=n(53),ye=n.n(Se),Ne=Object(L.b)((function(e,t){return{numberNotCheckTasks:I(e,t),numberTasks:g(e,t)}}))((function(e){var t=e.list,n=e.numberNotCheckTasks,r=e.numberTasks;return o.a.createElement(o.a.Fragment,null,0===n?o.a.createElement("option",{value:t},t," (all ",r," done)"):o.a.createElement("option",{value:t},t," (",n," out of ",r,")"))})),ge=Object(L.b)((function(e){return{currentList:_(e),todoListArr:C(e)}}),{setCurrentList:function(e){return{type:"SET_CURRENT_LIST",payload:{currentList:e}}}})((function(e){var t=e.currentList,n=e.setCurrentList,r=e.todoListArr;return o.a.createElement("div",null,o.a.createElement("select",{className:ye.a.listSelect,onChange:function(e){return function(e){n(e.target.value)}(e)},value:t},r.map((function(e,t){return o.a.createElement(Ne,{key:t,list:e})}))))})),Ie=n(30),we=n.n(Ie),Ae=n(39),xe=n.n(Ae),Re=Object(L.b)((function(e){return{listEdit:S(e),newListName:j(e),currentList:_(e),todoListLength:O(e)}}),{addNewListConfirm:$,addNewListSuccess:function(e){return function(t,n){var r=n(),a=j(r),o=G(e);if(a)return t({type:"RENAME_LIST"+B,payload:{upperText:o}});t({type:"ADD_NEW_LIST"+B,payload:{upperText:o}})}},renameListConfirm:function(e){return function(t){t({type:"RENAME_LIST"+M,payload:{currentList:e}})}},clearList:Y})((function(e){var t=e.listEdit,n=e.addNewListConfirm,r=e.addNewListSuccess,a=e.newListName,i=e.renameListConfirm,c=e.currentList,u=e.clearList,l=e.todoListLength;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"bold"},"Select list:"),t?o.a.createElement(Ce,{fnQuery:n,fnApply:r,maxLength:35,editMode:!0,onBlur:!0,initialData:a}):o.a.createElement("div",{className:je.a.lists},o.a.createElement(ge,null),o.a.createElement("div",{className:je.a.buttons},o.a.createElement(we.a,{onClick:function(){return i(c)},titleAccess:"Rename list"}),l>0?o.a.createElement(xe.a,{onClick:function(){return u()},titleAccess:"Clear list"}):o.a.createElement(xe.a,{color:"disabled"}))))})),Me=Object(L.b)((function(e){return{currentList:_(e),confirmClearList:D(e),deleteList:y(e)}}),{deleteCurrentListConfirm:V,deleteCurrentList:function(){return function(e,t){var n,r=t(),a=C(r),o=_(r);a.forEach((function(t,r){t===o&&(n=0===r?a[r+1]:a[r-1],e({type:"DELETE_CURRENT_LIST"+B,payload:{newList:n}}))}))}},clearList:Y})((function(e){var t=e.currentList,n=e.clearList,r=e.deleteCurrentListConfirm,a=e.confirmClearList,i=e.deleteList,c=e.deleteCurrentList;return o.a.createElement("div",{className:ae.a.head},o.a.createElement(Le,null),o.a.createElement(Re,null),i&&o.a.createElement(ue,{positiveFn:c,negativeFn:r,head:'Want to delete all list "'.concat(t,'"?')}),a&&o.a.createElement(ue,{positiveFn:n,positive:"confirm",head:"Want to clear all list?"}))})),Be=n(54),Fe=n.n(Be),Ue=n(21),He=n.n(Ue),We=n(31),Je=n.n(We),Pe=n(55),Ge=n.n(Pe),Ke=n(56),Qe=n.n(Ke),ze=Object(L.b)((function(e){return{editMode:T(e),confirmId:v(e),task:b(e)}}),{deleteTodo:function(e){return function(t){t({type:"DELETE_TODO",payload:{id:e}}),clearTimeout(r),r=setTimeout((function(){return t({type:"CLEAR_LAST_DELETED"})}),3e3)}},setEditMode:z,setChecked:function(e){return{type:"SET_CHECKED",payload:{id:e}}},confirmDelete:function(e){return{type:"CONFIRM_DELETE",payload:{id:e}}},addTodo:Q})((function(e){var t=e.id,n=e.text,r=e.checked,a=e.index,i=e.deleteTodo,c=e.editMode,u=e.setEditMode,l=e.setChecked,s=e.confirmId,d=e.confirmDelete,m=e.addTodo,f=e.task,L=function(e){r||u(e)};return o.a.createElement("div",{className:He.a.root},c===t?o.a.createElement(Ce,{fnQuery:u,fnApply:m,initialData:f,onBlur:!0,editMode:!0}):o.a.createElement("div",{className:He.a.todoItem},o.a.createElement("span",{className:He.a.todoText,onDoubleClick:function(){return L(t)}},r?o.a.createElement(Ge.a,{onClick:function(){return l(t)}}):o.a.createElement(Qe.a,{onClick:function(){return l(t)}}),o.a.createElement("span",{className:De()(Object(U.a)({},He.a.checked,r))},a+1,") ",n)),o.a.createElement("div",{className:He.a.edit},o.a.createElement(we.a,{titleAccess:"Edit task",onClick:function(){return L(t)}}),o.a.createElement(Je.a,{titleAccess:"Delete task",onClick:function(){return d(t)}}),s===t&&o.a.createElement(ue,{positiveFn:i,negativeFn:d,positive:t,negative:null,head:"Want to delete this task?"}))))})),Ye=Object(L.b)((function(e){return{todoList:p(e),numTodo:O(e),todoListName:k(e)}}))((function(e){var t=e.numTodo,n=e.todoListName;return o.a.createElement("div",null,0===t?o.a.createElement("span",{className:Fe.a.empty},"Empty, add task"):n.map((function(e,t){return o.a.createElement(ze,{key:e.id,id:e.id,text:e.text,checked:e.checked,index:t})})))})),$e=n(40),Ve=n.n($e),Ze=n(57),Xe=n.n(Ze),qe=function(e){var t=e.message,n=e.viewProp,r=e.func,a=e.icon;return o.a.createElement("span",{onClick:function(){return r()},className:De()(Ve.a.revert,Object(U.a)({},Ve.a.view,n))},o.a.createElement("span",null,t),a?o.a.createElement(Xe.a,null):o.a.createElement(Je.a,null))},et=n(58),tt=n.n(et),nt=Object(L.b)(null,{setEditMode:z,addTodo:Q})((function(e){var t=e.setEditMode,n=e.addTodo;return o.a.createElement("div",{className:tt.a.gap},o.a.createElement("div",{className:"bold"},"Add new task:"),o.a.createElement(Ce,{fnQuery:t,fnApply:n,placeholder:"what do you need to do?"}))})),rt=(n(83),Object(L.b)((function(e){return{todoList:p(e),currentList:_(e),lastDeleted:h(e),shouldBeOneList:N(e),darkTheme:w(e)}}),{loadTodosFromLocalStorage:function(){return function(e){if(localStorage.getItem("todoList")){var t,n=JSON.parse(localStorage.getItem("todoList")),r=JSON.parse(localStorage.getItem("currentList"));Array.isArray(n)?(t={Default:n},r="Default"):t=n,e({type:"LOAD_TODOS_FROM_LOCALSTORAGE",payload:{reformatTodoList:t,localStorageCurrentList:r,localStorageDarkTheme:!!localStorage.getItem("darkTheme")&&JSON.parse(localStorage.getItem("darkTheme"))}})}}},addTodosInLocalStorage:function(e,t,n){return function(){localStorage.setItem("todoList",JSON.stringify(e)),localStorage.setItem("currentList",JSON.stringify(t)),localStorage.setItem("darkTheme",JSON.stringify(n))}},revertDeleted:function(){return function(e,t){var n=t();h(n)&&e({type:"REVERT_DELETED"})}},setShouldBeOne:function(){return function(e){clearTimeout(r),e({type:"SHOULD_BE_ONE_LIST"})}}})((function(e){var t=e.todoList,n=e.currentList,r=e.loadTodosFromLocalStorage,i=e.addTodosInLocalStorage,c=e.lastDeleted,u=e.revertDeleted,l=e.shouldBeOneList,s=e.setShouldBeOne,d=e.darkTheme;return Object(a.useEffect)((function(){r()}),[]),Object(a.useEffect)((function(){i(t,n,d)}),[i,t,n,d]),o.a.createElement("div",{className:De()(f.a.root,{dark:d})},o.a.createElement(ne,null),o.a.createElement(Me,null),o.a.createElement(Ye,null),o.a.createElement(nt,null),o.a.createElement(qe,{message:"revert back",viewProp:c,func:u,icon:"history"}),o.a.createElement(qe,{message:"You have 1 list left, no deletion",viewProp:l,func:s}))}))),at=function(e){Object(d.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={error:null},r}return Object(l.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e})}},{key:"render",value:function(){return this.state.error?o.a.createElement("h1",{style:{color:"white"}},this.state.error.message):o.a.createElement("div",{className:"App"},o.a.createElement(rt,null))}}]),n}(o.a.Component),ot=n(16),it=n(59),ct=n(60),ut=n(41),lt={todoList:{Default:[]},editMode:null,confirmDeleteId:null,lastDeleted:null,confirmClearList:!1,currentList:"Default",listEdit:!1,newListName:"",deleteList:"",shouldBeOneList:!1},st={darkTheme:!1},dt=Object(ot.combineReducers)({todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"ADD_TODO":return Object(J.a)({},e,{todoList:Object(J.a)({},e.todoList,Object(U.a)({},e.currentList,[].concat(Object(ut.a)(e.todoList[e.currentList]),[r.newTodo])))});case"DELETE_TODO":return Object(J.a)({},e,{todoList:Object(J.a)({},e.todoList,Object(U.a)({},e.currentList,e.todoList[e.currentList].filter((function(e){return e.id!==r.id})))),lastDeleted:e.todoList[e.currentList].find((function(e){return e.id===r.id?e:null})),confirmDeleteId:null});case"EDIT_MODE":return Object(J.a)({},e,{editMode:r.id});case"EDIT_TODO":return Object(J.a)({},e,{todoList:Object(J.a)({},e.todoList,Object(U.a)({},e.currentList,e.todoList[e.currentList].map((function(e){return e.id===r.task.id?Object(J.a)({},e,{text:r.upperText}):e})))),editMode:null});case"LOAD_TODOS_FROM_LOCALSTORAGE":return Object(J.a)({},e,{todoList:r.reformatTodoList,currentList:r.localStorageCurrentList});case"SET_CHECKED":return Object(J.a)({},e,{todoList:Object(J.a)({},e.todoList,Object(U.a)({},e.currentList,e.todoList[e.currentList].map((function(e){return e.id===r.id?Object(J.a)({},e,{checked:!e.checked}):e}))))});case"CONFIRM_DELETE":return Object(J.a)({},e,{confirmDeleteId:r.id});case"CLEAR_LAST_DELETED":return Object(J.a)({},e,{lastDeleted:null});case"REVERT_DELETED":return Object(J.a)({},e,{todoList:Object(J.a)({},e.todoList,Object(U.a)({},e.currentList,[].concat(Object(ut.a)(e.todoList[e.currentList]),[e.lastDeleted]))),lastDeleted:null});case"CLEAR_LIST"+M:return Object(J.a)({},e,{confirmClearList:!e.confirmClearList});case"CLEAR_LIST"+B:return Object(J.a)({},e,{todoList:Object(J.a)({},e.todoList,Object(U.a)({},e.currentList,[])),lastDeleted:null,confirmClearList:!1});case"SET_CURRENT_LIST":return Object(J.a)({},e,{currentList:r.currentList});case"ADD_NEW_LIST"+M:return Object(J.a)({},e,{listEdit:!e.listEdit,newListName:r.renameListName||""});case"ADD_NEW_LIST"+B:return Object(J.a)({},e,{todoList:Object(J.a)({},e.todoList,Object(U.a)({},r.upperText,[])),listEdit:!1,newListName:"",currentList:r.upperText});case"RENAME_LIST"+M:return Object(J.a)({},e,{listEdit:!0,newListName:r.currentList});case"RENAME_LIST"+B:return Object(J.a)({},e,{todoList:K(e.newListName,r.upperText,e.todoList),listEdit:!1,currentList:r.upperText,newListName:""});case"DELETE_CURRENT_LIST"+M:return Object(J.a)({},e,{deleteList:!e.deleteList&&e.currentList});case"DELETE_CURRENT_LIST"+B:return Object(J.a)({},e,{todoList:P([e.deleteList],e.todoList),currentList:r.newList,deleteList:""});case"SHOULD_BE_ONE_LIST":return Object(J.a)({},e,{deleteList:"",shouldBeOneList:!e.shouldBeOneList});default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"CHANGE_THEME":return Object(J.a)({},e,{darkTheme:!e.darkTheme});case"LOAD_TODOS_FROM_LOCALSTORAGE":return Object(J.a)({},e,{darkTheme:r.localStorageDarkTheme});default:return e}}}),mt=Object(ot.applyMiddleware)(it.a),ft=Object(ot.createStore)(dt,Object(ct.composeWithDevTools)(mt));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(L.a,{store:ft},o.a.createElement(at,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[69,1,2]]]);
//# sourceMappingURL=main.8afa6e6a.chunk.js.map