(this.webpackJsonptodo_list=this.webpackJsonptodo_list||[]).push([[0],{20:function(e,t,n){e.exports={root:"TodoItem_root__9JzS9",todoItem:"TodoItem_todoItem__1hpbC",rootScale:"TodoItem_rootScale__2Eo52",todoText:"TodoItem_todoText__3vmjo",edit:"TodoItem_edit__1le0P",checked:"TodoItem_checked__3oddJ"}},32:function(e,t,n){e.exports={todoInput:"TodoInput_todoInput__1a6jQ",rootScale:"TodoInput_rootScale__1iBlP",input:"TodoInput_input__QOK2C",editMode:"TodoInput_editMode__2zKbM",edit:"TodoInput_edit__3-K0l"}},36:function(e,t,n){e.exports={lists:"Lists_lists__1iZOR",rootScale:"Lists_rootScale__3ao11",buttons:"Lists_buttons___9vdu"}},37:function(e,t,n){e.exports={revert:"PopUp_revert__RA7fV",view:"PopUp_view__NEYLG"}},42:function(e,t,n){e.exports={root:"TodoList_root__29eoQ"}},44:function(e,t,n){e.exports={header:"Header_header__1v0yI"}},45:function(e,t,n){e.exports={head:"ListsMenu_head__3taTr"}},46:function(e,t,n){e.exports={confirmButton:"ConfirmAction_confirmButton__2pJZ2",confBack:"ConfirmAction_confBack__3UKHR"}},47:function(e,t,n){e.exports={list:"ListHead_list__280tu"}},48:function(e,t,n){e.exports={btn:"ButtonPrimary_btn__8mzAZ"}},51:function(e,t,n){e.exports={listSelect:"SelectList_listSelect__GkX-n"}},53:function(e,t,n){e.exports={empty:"LayoutList_empty__3diUI"}},57:function(e,t,n){e.exports={gap:"FieldNewTask_gap__xxF2U"}},67:function(e,t,n){e.exports=n(81)},72:function(e,t,n){},73:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r,o=n(0),a=n.n(o),i=n(14),c=n.n(i),u=(n(72),n(40)),s=n(41),l=n(60),d=n(62),f=(n(73),n(42)),L=n.n(f),m=n(4),E=n(26),p=function(e){return e.todo.todoList},_=function(e){return e.todo.currentList},O=Object(E.a)(_,p,(function(e,t){var n;return null===(n=t[e])||void 0===n?void 0:n.length})),v=function(e){return e.todo.editMode},T=Object(E.a)(p,v,_,(function(e,t,n){var r;return null===(r=e[n])||void 0===r?void 0:r.find((function(e){return e.id===t}))})),b=function(e){return e.todo.confirmDeleteId},D=function(e){return e.todo.lastDeleted},y=function(e){return e.todo.confirmClearList},C=Object(E.a)(p,(function(e){return Object.keys(e)})),j=Object(E.a)(p,_,(function(e,t){return e[t]})),h=function(e){return e.todo.newListName},S=function(e){return e.todo.listEdit},N=function(e){return e.todo.deleteList},I=function(e){return e.todo.shouldBeOneList},k=n(27),w=n.n(k),g=n(35),A="_CONFIRM",x="_SUCCESS",R=n(98),M=n(5),B=n(63),F=n(64),U=n(2),P=function(e,t){var n=Object(U.a)({},t);return delete n[e],n},W=function(e){return e.replace(/^([A-z\u0410-\u044f\u0451])/,(function(e){return e.toUpperCase()}))},H=function(e,t,n){var r=n[e],o=Object(B.a)(n,[e].map(F.a));return Object(U.a)(Object(M.a)({},t,r),o)},J=function(e,t){return function(n){var r=W(e);if(t)return n({type:"EDIT_TODO",payload:{upperText:r,task:t}});n({type:"ADD_TODO",payload:{newTodo:{id:Object(R.a)(),text:r,checked:!1}}})}},K=function(e){return{type:"EDIT_MODE",payload:{id:e}}},Q=function(e){return function(){var t=Object(g.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n("confirm"!==e?{type:"CLEAR_LIST"+A}:{type:"CLEAR_LIST"+x});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(e){return{type:"ADD_NEW_LIST"+A,payload:{listName:e}}},G=function(){return function(){var e=Object(g.a)(w.a.mark((function e(t,n){var o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n(),1===C(o).length?(t({type:"SHOULD_BE_ONE_LIST"}),r=setTimeout((function(){return t({type:"SHOULD_BE_ONE_LIST"})}),3e3)):t({type:"DELETE_CURRENT_LIST"+A});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Y=n(44),V=n.n(Y),Z=Object(m.b)((function(e){return{numTodo:O(e),currentList:_(e)}}))((function(e){var t=e.numTodo,n=e.currentList;return a.a.createElement("div",null,a.a.createElement("span",null,"You have ",a.a.createElement("b",null,t)," Todos in ",a.a.createElement("span",{className:V.a.header},'"',n,'"')," list"))})),X=n(45),$=n.n(X),q=n(46),ee=n.n(q),te=n(97),ne=function(e){var t=e.positiveFn,n=e.negativeFn,r=void 0===n?t:n,i=e.positive,c=void 0===i||i,u=e.negative,s=void 0!==u&&u,l=e.head,d=void 0===l?"Confirm delete?":l,f=function(e){"Escape"===e.key&&r(s)};return Object(o.useEffect)((function(){return document.addEventListener("keydown",f,!1),function(){document.removeEventListener("keydown",f,!1)}}),[]),a.a.createElement("div",{className:ee.a.confirmButton,onClick:function(){return r(s)}},a.a.createElement("span",{onKeyDown:function(e){return f(e)}},d),a.a.createElement(te.a,{onClick:function(e){e.stopPropagation(),t(c)},variant:"contained"},"Yes"),a.a.createElement(te.a,{onClick:function(e){e.stopPropagation(),r(s)},variant:"contained"},"No"))},re=n(47),oe=n.n(re),ae=n(48),ie=n.n(ae),ce=function(e){var t=e.buttonClick,n=e.name,r=e.style,o=e.disable,i=void 0!==o&&o;return a.a.createElement("button",{onClick:function(){return t()},className:ie.a.btn,style:r,disabled:i},n)},ue=Object(m.b)((function(e){return{listEdit:S(e),shouldBeOneList:I(e)}}),{addNewListConfirm:z,deleteCurrentListConfirm:G})((function(e){var t=e.listEdit,n=e.shouldBeOneList,r=e.addNewListConfirm,o=e.deleteCurrentListConfirm;return a.a.createElement("div",{className:oe.a.list},a.a.createElement(ce,{buttonClick:r,name:"Add new list",disable:t}),a.a.createElement(ce,{buttonClick:o,name:"Delete list",disable:n}))})),se=n(61),le=n(32),de=n.n(le),fe=n(50),Le=n.n(fe),me=n(49),Ee=n.n(me),pe=n(18),_e=n.n(pe),Oe=function(e){var t=e.fnApply,n=e.initialData,r=e.fnQuery,i=e.placeholder,c=e.maxLength,u=void 0===c?150:c,s=e.onBlur,l=void 0!==s&&s,d=e.editMode,f=void 0!==d&&d,L=Object(o.useState)(""),m=Object(se.a)(L,2),E=m[0],p=m[1];Object(o.useEffect)((function(){(null===n||void 0===n?void 0:n.text)?p(n.text):"string"===typeof n&&p(n)}),[]);var _=function(){0!==E.length&&(t(E,n),p(""))};return a.a.createElement("div",{className:de.a.todoInput},a.a.createElement("input",{placeholder:i,autoFocus:!0,value:E,onChange:function(e){return p(e.target.value)},onKeyDown:function(e){return function(e){"Enter"===e.key?_():"Escape"===e.key&&r(null)}(e)},className:_e()(de.a.input,Object(M.a)({},de.a.editMode,f)),maxLength:u,onBlur:function(){return l&&function(){if(n)return _();r(null)}()}}),a.a.createElement("span",{onMouseDown:function(){return _()}},n?a.a.createElement(Ee.a,null):a.a.createElement(Le.a,null)))},ve=n(36),Te=n.n(ve),be=n(51),De=n.n(be),ye=Object(m.b)((function(e){return{currentList:_(e),todoListArr:C(e)}}),{setCurrentList:function(e){return{type:"SET_CURRENT_LIST",payload:{currentList:e}}}})((function(e){var t=e.currentList,n=e.setCurrentList,r=e.todoListArr;return a.a.createElement("div",null,a.a.createElement("select",{className:De.a.listSelect,onChange:function(e){return function(e){n(e.target.value)}(e)},value:t},r.map((function(e,t){return a.a.createElement("option",{key:t,value:e},e)}))))})),Ce=n(30),je=n.n(Ce),he=n(52),Se=n.n(he),Ne=Object(m.b)((function(e){return{listEdit:S(e),newListName:h(e),currentList:_(e)}}),{addNewListConfirm:z,addNewListSuccess:function(e){return function(t,n){var r=n(),o=h(r),a=W(e);if(o)return t({type:"RENAME_LIST"+x,payload:{upperText:a}});t({type:"ADD_NEW_LIST"+x,payload:{upperText:a}})}},renameListConfirm:function(e){return function(t){t({type:"RENAME_LIST"+A,payload:{currentList:e}})}},clearList:Q})((function(e){var t=e.listEdit,n=e.addNewListConfirm,r=e.addNewListSuccess,o=e.newListName,i=e.renameListConfirm,c=e.currentList,u=e.clearList;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"bold"},"Select list:"),t?a.a.createElement(Oe,{fnQuery:n,fnApply:r,maxLength:35,editMode:!0,onBlur:!0,initialData:o}):a.a.createElement("div",{className:Te.a.lists},a.a.createElement(ye,null),a.a.createElement("div",{className:Te.a.buttons},a.a.createElement(je.a,{onClick:function(){return i(c)},titleAccess:"Rename list"}),a.a.createElement(Se.a,{onClick:function(){return u()},titleAccess:"Clear list"}))))})),Ie=Object(m.b)((function(e){return{currentList:_(e),confirmClearList:y(e),deleteList:N(e)}}),{deleteCurrentListConfirm:G,deleteCurrentList:function(){return function(e,t){var n,r=t(),o=C(r),a=_(r);o.forEach((function(t,r){t===a&&(n=0===r?o[r+1]:o[r-1],e({type:"DELETE_CURRENT_LIST"+x,payload:{newList:n}}))}))}},clearList:Q})((function(e){var t=e.currentList,n=e.clearList,r=e.deleteCurrentListConfirm,o=e.confirmClearList,i=e.deleteList,c=e.deleteCurrentList;return a.a.createElement("div",{className:$.a.head},a.a.createElement(ue,null),a.a.createElement(Ne,null),i&&a.a.createElement(ne,{positiveFn:c,negativeFn:r,head:'Want to delete all list "'.concat(t,'"?')}),o&&a.a.createElement(ne,{positiveFn:n,positive:"confirm",head:"Want to clear all list?"}))})),ke=n(53),we=n.n(ke),ge=n(20),Ae=n.n(ge),xe=n(31),Re=n.n(xe),Me=n(54),Be=n.n(Me),Fe=n(55),Ue=n.n(Fe),Pe=Object(m.b)((function(e){return{editMode:v(e),confirmId:b(e),task:T(e)}}),{deleteTodo:function(e){return function(t){t({type:"DELETE_TODO",payload:{id:e}}),clearTimeout(r),r=setTimeout((function(){return t({type:"CLEAR_LAST_DELETED"})}),3e3)}},setEditMode:K,setChecked:function(e){return{type:"SET_CHECKED",payload:{id:e}}},confirmDelete:function(e){return{type:"CONFIRM_DELETE",payload:{id:e}}},addTodo:J})((function(e){var t=e.id,n=e.text,r=e.checked,o=e.index,i=e.deleteTodo,c=e.editMode,u=e.setEditMode,s=e.setChecked,l=e.confirmId,d=e.confirmDelete,f=e.addTodo,L=e.task,m=function(e){r||u(e)};return a.a.createElement("div",{className:Ae.a.root},c===t?a.a.createElement(Oe,{fnQuery:u,fnApply:f,initialData:L,onBlur:!0,editMode:!0}):a.a.createElement("div",{className:Ae.a.todoItem},a.a.createElement("span",{className:Ae.a.todoText,onDoubleClick:function(){return m(t)}},r?a.a.createElement(Be.a,{onClick:function(){return s(t)}}):a.a.createElement(Ue.a,{onClick:function(){return s(t)}}),a.a.createElement("span",{className:_e()(Object(M.a)({},Ae.a.checked,r))},o+1,") ",n)),a.a.createElement("div",{className:Ae.a.edit},a.a.createElement(je.a,{titleAccess:"Edit task",onClick:function(){return m(t)}}),a.a.createElement(Re.a,{titleAccess:"Delete task",onClick:function(){return d(t)}}),l===t&&a.a.createElement(ne,{positiveFn:i,negativeFn:d,positive:t,negative:null,head:"Want to delete this task?"}))))})),We=Object(m.b)((function(e){return{todoList:p(e),numTodo:O(e),todoListName:j(e)}}))((function(e){var t=e.numTodo,n=e.todoListName;return a.a.createElement("div",null,0===t?a.a.createElement("span",{className:we.a.empty},"Empty, add task"):n.map((function(e,t){return a.a.createElement(Pe,{key:e.id,id:e.id,text:e.text,checked:e.checked,index:t})})))})),He=n(37),Je=n.n(He),Ke=n(56),Qe=n.n(Ke),ze=function(e){var t=e.message,n=e.viewProp,r=e.func,o=e.icon;return a.a.createElement("span",{onClick:function(){return r()},className:_e()(Je.a.revert,Object(M.a)({},Je.a.view,n))},a.a.createElement("span",null,t),o?a.a.createElement(Qe.a,null):a.a.createElement(Re.a,null))},Ge=n(57),Ye=n.n(Ge),Ve=Object(m.b)(null,{setEditMode:K,addTodo:J})((function(e){var t=e.setEditMode,n=e.addTodo;return a.a.createElement("div",{className:Ye.a.gap},a.a.createElement("div",{className:"bold"},"Add new task:"),a.a.createElement(Oe,{fnQuery:t,fnApply:n,placeholder:"what do you need to do?"}))})),Ze=Object(m.b)((function(e){return{todoList:p(e),currentList:_(e),lastDeleted:D(e),shouldBeOneList:I(e)}}),{loadTodosFromLocalStorage:function(){return function(e){if(localStorage.getItem("todoList")){var t,n=JSON.parse(localStorage.getItem("todoList")),r=JSON.parse(localStorage.getItem("currentList"));Array.isArray(n)?(t={Default:n},r="Default"):t=n,e({type:"LOAD_TODOS_FROM_LOCALSTORAGE",payload:{reformatTodoList:t,localStorageCurrentList:r}})}}},addTodosInLocalStorage:function(e,t){return function(){localStorage.setItem("todoList",JSON.stringify(e)),localStorage.setItem("currentList",JSON.stringify(t))}},revertDeleted:function(){return function(e,t){var n=t();D(n)&&e({type:"REVERT_DELETED"})}},setShouldBeOne:function(){return function(e){clearTimeout(r),e({type:"SHOULD_BE_ONE_LIST"})}}})((function(e){var t=e.todoList,n=e.currentList,r=e.loadTodosFromLocalStorage,i=e.addTodosInLocalStorage,c=e.lastDeleted,u=e.revertDeleted,s=e.shouldBeOneList,l=e.setShouldBeOne;return Object(o.useEffect)((function(){r()}),[]),Object(o.useEffect)((function(){i(t,n)}),[i,t,n]),a.a.createElement("div",{className:L.a.root},a.a.createElement(Z,null),a.a.createElement(Ie,null),a.a.createElement(We,null),a.a.createElement(Ve,null),a.a.createElement(ze,{message:"revert back",viewProp:c,func:u,icon:"history"}),a.a.createElement(ze,{message:"You have 1 list left, no deletion",viewProp:s,func:l}))})),Xe=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={error:null},r}return Object(s.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e})}},{key:"render",value:function(){return this.state.error?a.a.createElement("h1",{style:{color:"white"}},this.state.error.message):a.a.createElement("div",{className:"App"},a.a.createElement(Ze,null))}}]),n}(a.a.Component),$e=n(15),qe=n(58),et=n(59),tt=n(38),nt={todoList:{Default:[]},editMode:null,confirmDeleteId:null,lastDeleted:null,confirmClearList:!1,currentList:"Default",listEdit:!1,newListName:"",deleteList:"",shouldBeOneList:!1},rt=Object($e.combineReducers)({todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"ADD_TODO":return Object(U.a)({},e,{todoList:Object(U.a)({},e.todoList,Object(M.a)({},e.currentList,[].concat(Object(tt.a)(e.todoList[e.currentList]),[r.newTodo])))});case"DELETE_TODO":return Object(U.a)({},e,{todoList:Object(U.a)({},e.todoList,Object(M.a)({},e.currentList,e.todoList[e.currentList].filter((function(e){return e.id!==r.id})))),lastDeleted:e.todoList[e.currentList].find((function(e){return e.id===r.id?e:null})),confirmDeleteId:null});case"EDIT_MODE":return Object(U.a)({},e,{editMode:r.id});case"EDIT_TODO":return Object(U.a)({},e,{todoList:Object(U.a)({},e.todoList,Object(M.a)({},e.currentList,e.todoList[e.currentList].map((function(e){return e.id===r.task.id?Object(U.a)({},e,{text:r.upperText}):e})))),editMode:null});case"LOAD_TODOS_FROM_LOCALSTORAGE":return Object(U.a)({},e,{todoList:r.reformatTodoList,currentList:r.localStorageCurrentList});case"SET_CHECKED":return Object(U.a)({},e,{todoList:Object(U.a)({},e.todoList,Object(M.a)({},e.currentList,e.todoList[e.currentList].map((function(e){return e.id===r.id?Object(U.a)({},e,{checked:!e.checked}):e}))))});case"CONFIRM_DELETE":return Object(U.a)({},e,{confirmDeleteId:r.id});case"CLEAR_LAST_DELETED":return Object(U.a)({},e,{lastDeleted:null});case"REVERT_DELETED":return Object(U.a)({},e,{todoList:Object(U.a)({},e.todoList,Object(M.a)({},e.currentList,[].concat(Object(tt.a)(e.todoList[e.currentList]),[e.lastDeleted]))),lastDeleted:null});case"CLEAR_LIST"+A:return Object(U.a)({},e,{confirmClearList:!e.confirmClearList});case"CLEAR_LIST"+x:return Object(U.a)({},e,{todoList:Object(U.a)({},e.todoList,Object(M.a)({},e.currentList,[])),lastDeleted:null,confirmClearList:!1});case"SET_CURRENT_LIST":return Object(U.a)({},e,{currentList:r.currentList});case"ADD_NEW_LIST"+A:return Object(U.a)({},e,{listEdit:!e.listEdit,newListName:r.renameListName||""});case"ADD_NEW_LIST"+x:return Object(U.a)({},e,{todoList:Object(U.a)({},e.todoList,Object(M.a)({},r.upperText,[])),listEdit:!1,newListName:"",currentList:r.upperText});case"RENAME_LIST"+A:return Object(U.a)({},e,{listEdit:!0,newListName:r.currentList});case"RENAME_LIST"+x:return Object(U.a)({},e,{todoList:H(e.newListName,r.upperText,e.todoList),listEdit:!1,currentList:r.upperText,newListName:""});case"DELETE_CURRENT_LIST"+A:return Object(U.a)({},e,{deleteList:!e.deleteList&&e.currentList});case"DELETE_CURRENT_LIST"+x:return Object(U.a)({},e,{todoList:P([e.deleteList],e.todoList),currentList:r.newList,deleteList:""});case"SHOULD_BE_ONE_LIST":return Object(U.a)({},e,{deleteList:"",shouldBeOneList:!e.shouldBeOneList});default:return e}}}),ot=Object($e.applyMiddleware)(qe.a),at=Object($e.createStore)(rt,Object(et.composeWithDevTools)(ot));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(m.a,{store:at},a.a.createElement(Xe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[67,1,2]]]);
//# sourceMappingURL=main.8c114269.chunk.js.map